<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All blog posts</title>
</head>
<body>
    <h1>All blog posts</h1>
    {% if user.is_authenticated %}
    <p>Welcome, {{user.username}}! <a href="{% url 'logout' %}">Logout</a></p>
    {% else %}
    <a href="{% url 'login' %}">Login</a> | <a href="{% url 'signup' %}">Sign Up</a>
    {% endif %}
    <br>

    <a href="{% url 'add_post' %}">Add New Post</a>

    <ul>
        {% for post in posts %}
        <li>
            <h2><a href="{% url 'post_detail' post.pk %}">{{post.title}}</a></h2><a href="{% url 'edit_post' post.pk %}">Edit</a>
        <br>
        <a href="{% url 'delete_post' post.pk %}">Delete</a>
            <p>By: {{post.author}} <br> At: {{post.created_at}} </p>
            <p>{{post.content}}</p>
            <p><strong>Comments:</strong> {{ post.comments.count }} </p>
        </li>
        {% endfor %}
    </ul>
</body>
</html>